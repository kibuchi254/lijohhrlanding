---
interface Props {
  currentPage?: string;
}

const { currentPage = 'home' } = Astro.props;
---

<nav class="sticky top-0 z-50 w-full border-b bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60">
  <div class="container">
    <div class="flex h-16 items-center justify-between">
      <!-- Logo -->
      <a href="/" class="group">
        <img
          src="/logo.svg"
          alt="LijohHr"
          class="h-12 w-12 transition-transform group-hover:scale-110"
        />
      </a>

      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center gap-8">
        <a href="#features" class="nav-link">Features</a>
        <a href="#pricing" class="nav-link">Pricing</a>
        <a href="#how-it-works" class="nav-link">How It Works</a>
        <a href="#testimonials" class="nav-link">Testimonials</a>

        <a href="/signin" class="nav-link">Sign In</a>
        <a
          href="#pricing"
          class="btn-primary px-6 py-2.5 rounded-lg font-medium inline-flex items-center gap-2"
        >
          Get Started
          <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
          </svg>
        </a>
      </div>

      <!-- Mobile menu button -->
      <button
        id="mobile-menu-btn"
        class="md:hidden p-2 rounded-md hover:bg-gray-100 transition-colors"
        aria-label="Toggle menu"
        aria-expanded="false"
      >
        <svg id="menu-icon" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
        </svg>
        <svg id="close-icon" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>

    <!-- Mobile Navigation -->
    <div id="mobile-menu" class="hidden md:hidden py-4 border-t animate-fade-in">
      <div class="flex flex-col gap-2">
        <a href="#features" class="nav-link px-3 py-2 rounded-md hover:bg-gray-50">Features</a>
        <a href="#pricing" class="nav-link px-3 py-2 rounded-md hover:bg-gray-50">Pricing</a>
        <a href="#how-it-works" class="nav-link px-3 py-2 rounded-md hover:bg-gray-50">How It Works</a>
        <a href="#testimonials" class="nav-link px-3 py-2 rounded-md hover:bg-gray-50">Testimonials</a>
        <div class="h-px bg-gray-200 my-2"></div>
        <a href="/signin" class="nav-link px-3 py-2 rounded-md hover:bg-gray-50">Sign In</a>
        <a href="#pricing" class="btn-primary px-6 py-2.5 rounded-lg font-medium inline-flex items-center justify-center gap-2 mt-2">
          Get Started
          <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
          </svg>
        </a>
      </div>
    </div>
  </div>

  <!-- Mobile menu script -->
  <script>
    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    const menuIcon = document.getElementById('menu-icon');
    const closeIcon = document.getElementById('close-icon');

    mobileMenuBtn?.addEventListener('click', () => {
      const isOpen = !mobileMenu?.classList.contains('hidden');
      if (isOpen) {
        mobileMenu?.classList.add('hidden');
        menuIcon?.classList.remove('hidden');
        closeIcon?.classList.add('hidden');
        mobileMenuBtn?.setAttribute('aria-expanded', 'false');
      } else {
        mobileMenu?.classList.remove('hidden');
        menuIcon?.classList.add('hidden');
        closeIcon?.classList.remove('hidden');
        mobileMenuBtn?.setAttribute('aria-expanded', 'true');
      }
    });

    // Close mobile menu when clicking on links
    document.querySelectorAll('#mobile-menu a').forEach(link => {
      link.addEventListener('click', () => {
        mobileMenu?.classList.add('hidden');
        menuIcon?.classList.remove('hidden');
        closeIcon?.classList.add('hidden');
        mobileMenuBtn?.setAttribute('aria-expanded', 'false');
      });
    });
  </script>
</nav>
